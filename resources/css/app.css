/* Tailwind v3 partial: imported from resources/sass/app.scss */

@layer utilities {
    .full-bleed {
        position: relative;
        left: 50%;
        right: 50%;
        margin-left: -50vw;
        margin-right: -50vw;
        width: 100vw;
    }
}

@layer base {
    /*
     * Global CSS variables sourced from Tailwind theme
     * We expose HFM brand colors so they can be reused with modern color functions.
     */
    :root {
        --nav-h: 116px;
        --hero-reserve: 8px;
        /* Tailwind theme colors (see tailwind.config.js colors.hfm) */
        --hfm-light: theme('colors.hfm.light');
        --hfm-dark: theme('colors.hfm.dark');
    }
}

@layer components {
    /*
     * Hero component variables
     * - --overlay-from uses brand colors (hfm-light / hfm-dark)
     * - alpha variables control ramp of the overlay gradient
     */
    .hfm-hero {
        --slope: clamp(8px, 2.4vw, 40px);
        --overlay-from: var(--hfm-light); /* light mode color */
        --overlay-alpha: 0.45; /* top scrim strength (light) - slightly stronger for better kicker contrast */
        --overlay-mid-alpha: 0.65; /* mid scrim strength to ramp earlier (light) */
        --overlay-bottom-alpha: 0.9; /* bottom scrim strength (light) */
        container-type: size;
    }

    @media (prefers-color-scheme: dark) {
        .hfm-hero {
            --overlay-from: var(--hfm-dark); /* dark mode color */
            --overlay-alpha: 0.45; /* top scrim strength (dark) */
            --overlay-mid-alpha: 0.75; /* mid scrim strength to ramp earlier (dark) */
            --overlay-bottom-alpha: 0.95; /* bottom scrim strength (dark) */
        }
    }

    /*
     * Single hero overlay gradient
     * Uses the brand color (light/dark) with varying alpha to improve contrast across the image
     */
    .hfm-hero__overlay {
        background: linear-gradient(
            to bottom,
            rgb(from var(--overlay-from) r g b / var(--overlay-alpha)) 0%,
            rgb(from var(--overlay-from) r g b / var(--overlay-mid-alpha, var(--overlay-alpha))) 35%,
            rgb(from var(--overlay-from) r g b / var(--overlay-bottom-alpha)) 100%
        );
    }


    .hfm-hero__content {
        color: inherit;
        position: relative;
    }

    /*
     * Note: We intentionally removed the extra ::before gradient previously applied to .hfm-hero__content
     * to avoid stacking two overlays. The single gradient lives on .hfm-hero__overlay.
     */

    .hfm-hero__badge {
        top: var(--nav-h);
    }

    .hfm-hero__badgeCircle {
        width: clamp(7rem, 14vh, 12rem);
        height: clamp(7rem, 14vh, 12rem);
        transform: rotate(-8deg);
        transform-origin: center;
    }

    @container (max-height: 36rem) {
        .hfm-hero__badge {
            display: none !important;
        }
    }

    /* Portrait or square: stack image then content; limit image height; hide overlay gradient */
    @media (max-aspect-ratio: 1/1) {
        .hfm-hero__visual {
            position: relative;
            height: min(55vh, 90vw);
        }

        /* Hide the global image overlay on narrow/stacked layout */
        .hfm-hero__overlay {
            display: none;
        }
    }
    @media (min-aspect-ratio: 5/3) {
        .hfm-hero__img {
            object-position: center 50%;
        }
    }

    .partner-logo {
        max-height: clamp(28px, 5vh, 48px);
        width: auto;
        object-fit: contain;
    }
}

@media (prefers-reduced-motion: reduce) {
    .hfm-hero__badgeCircle {
        transform: none;
    }
}

@layer components {
    .hfm-hero__titleRadial {
        height: 140%;
        width: 140%;
        max-width: min(90vw, 80ch);
        border-radius: 9999px; /* rounded-full */
        filter: blur(32px); /* ~ blur-2xl */
        opacity: 0.5;
        /* Title glow uses brand light color with varying alpha */
        background: radial-gradient(
            50% 50% at 50% 50%,
            rgb(from var(--hfm-light) r g b / 0.70) 0%,
            rgb(from var(--hfm-light) r g b / 0.35) 35%,
            rgb(from var(--hfm-light) r g b / 0) 70%
        );
    }

    @media (min-width: 768px) {
        /* md: */
        .hfm-hero__titleRadial {
            opacity: 0.6;
        }
    }
    @media (prefers-color-scheme: dark) {
        .hfm-hero__titleRadial {
            /* Title glow uses brand dark color in dark mode */
            background: radial-gradient(
                50% 50% at 50% 50%,
                rgb(from var(--hfm-dark) r g b / 0.45) 0%,
                rgb(from var(--hfm-dark) r g b / 0.25) 35%,
                rgb(from var(--hfm-dark) r g b / 0) 70%
            );
        }
    }
}
